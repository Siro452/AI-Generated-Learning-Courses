generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String    @id @default(cuid())
  createdAt DateTime  @default(now())
  username  String    
  sessions  Session[]
}

model Event {
  id               String            @id @default(cuid())
  createdAt        DateTime          @default(now())
  eventType        String            @db.VarChar(32)
  eventDescription String            @db.VarChar(250)
  eventStatus      String            @db.VarChar(250)
  sessionid        String            @unique
  session          Session           @relation(fields: [sessionid], references: [id], onDelete: Cascade)
//   UploadedDocument UploadedDocument?
}

model Session {
  id               String            @id @default(cuid())
  createdAt        DateTime          @default(now())
  sessionDate      DateTime
  userid           String
  event            Event?
  User             User              @relation(fields: [userid], references: [id], onDelete: Cascade)
//   uploadeddocument UploadedDocument?
}

model UploadedDocument {
  id            String   @id @default(cuid())
//   createdAt     DateTime @default(now())
  fileName      String
  fileContent   String
  processedData String?
//   eventid       String?  @default(cuid())
//   sessionid     String?  @default(cuid())
//   Event         Event?   @relation(fields: [eventid], references: [id], onUpdate: Cascade)
//   session       Session? @relation(fields: [sessionid], references: [id], onUpdate: Cascade)
}
